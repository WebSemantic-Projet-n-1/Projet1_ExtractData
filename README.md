# Web SÃ©mantique - Extract Data

## Build the project (once)

1. Create Python venv in the project root directory `python -m venv ./.venv`  

2. Activate the venv :
- Windows `.\.venv\Scripts\activate`
- Unix `source .venv/bin/activate`

3. Once in the venv, install the requirements `pip install -r requirements.txt`.

4. Download the dataset [on Kaggle](https://www.kaggle.com/code/alaasedeeq/european-soccer-database-with-sqlite3/input) and rename the downloaded file to `database.sqlite`, then place it at the project root.

5. Generate the HTML pages : 
- `python ./build/generate_html_pages.py`
- `python ./build/generate_enriched_html_pages.py` (chose 3 : generate both)

6. Generate the knowledge graph :
`python ./build/crawler.py` 

## Run the project

(This assumes the project has been built as per the instructions above)

1. Activate the venv (if not already activated) : 
 - Windows `.\.venv\Scripts\activate`
 - Unix `source .venv/bin/activate`

2. Run the API `fastapi dev main.py` 

3. Go to http://127.0.0.1:8000/


## Project Structure

```
|   api_web_1_0.py              # Parses the "web_1.0" HTML pages
|   api_web_3_0.py              # Parses the "web_3.0" HTML pages 
|   database.sqlite             # DB used for generate_html_pages.py
|   knowledge_graph.ttl         # RDF graph generated by crawler.py
|   main.py                     # App entry point
|   README.md
|   requirements.txt
|
+---build
|       generate_enriched_html_pages.py  # Creates the "web_3.0_*" folders
|       generate_html_pages.py           # Creates the "web_1.0" folder
|       crawler.py                       # Creates the knowledge_graph from enriched pages metadata
|
+---engine
|   +---web1                  # Search information from "web_1.0" HTML pages (part 1)
|   |   |   engine.py
|   |   |   engine_utils.py
|   |           
|   +---web3                  # Search information from "web_3.0" HTML pages (part 2)
|   |       engine.py
|   |
|   +---rdf                   # Exploits the RDF database (part 3)
| 
+---pages                        # HTML pages used for testing the search engine
|       index.html
|       searchEngine_web-1.0.html
|       searchEngine_web-3.0.html
|       
+---web_1.0_output             
|       [...]
| 
+---web_3.0_jsonld_output
|       [...]
|        
+---web_3.0_rdfa_output
|       [...]
| 
```
